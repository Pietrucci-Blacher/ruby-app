<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Ruby on Rails Tutorial Sample App</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <%= csrf_meta_tags %>
  </head>

  <body>


      <div class="container bg-light border mt-5 col-lg-8 col-lg-push-2 text-center ">
            <form class="form-inline" action="/calculate" method="get">
            <div class="row">
              <h1 class="lead mt-3 mb-5">Calculez la consommation pour le trajet entre 2 villes</h1>
              <div class="col-6">
                <label class="form-label">Votre ville de départ: </label>
                <input type="text" name="destination1" placeholder="Votre ville de départ">
              </div>

              <div class="col-6">
                <label class="form-label">Votre ville d'arrivée: </label>
                <input type="text" name="destination2" placeholder="Votre ville d'arrivée">
              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-4 ">
                <%= label_tag "Votre véhicule: "%>
                <%= select_tag "vehicule", options_for_select([ "TGV",
                "Bus", "Voiture électrique", "Voiture", "Scooter", "Moto", "Avion" ]), prompt: 'Choisissez votre véhicule', class: 'form-control text-center' %>
              </div>
            </div>
              <input class="mt-3 mb-2" type="submit" value="Submit">
            </form>

            <div>
                <p> Distance total entre <%= session[:destination1] %> et <%= session[:destination2] %> : <%= session[:distance] %> </p>

                <% if @consommation != nil %>
                  <p> Votre consommation sera de: <%= @consommation %> kgCO2e</p>
                <% end %>
            </div>

          </div>
  </body>
</html>
